generator client {
  provider        = "prisma-client-js" //If you want to use TypeScript, use "prisma-client-ts"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model Characters {
  id            Int       @id @unique @default(autoincrement()) 
  name                   String  
  physicalDescription    String
  personalityDescription String
  characterHistory       String
  dtStart                DateTime?
  dtEnd                  DateTime?
  price                  Int

  @@index([id])
}

model User {
  userID   Int       @id @unique @default(autoincrement())
  username String
  name     String
  email    String    @unique
  dtEnd    DateTime?
  cartID   Int       @unique

  @@index([userID, cartID])
}

model Cart {
  cartID    Int      @id @unique @default(autoincrement())
  productID Int
  added_dt  DateTime @default(now())

  @@index([cartID])
}

model Purchases {
  purchaseID     Int      @id @unique @default(autoincrement())
  dtPurchased    DateTime @default(now())
  purchaseAmount Int
}

model UsersCards {
  usersCardsID Int @id @unique @default(autoincrement())
  userID       Int @unique
  characterID  Int @unique 

  @@index([characterID, userID])
}
